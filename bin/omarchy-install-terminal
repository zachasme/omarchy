#!/bin/bash

if (($# == 0)); then
  echo "Usage: omarchy-install-terminal [alacritty|ghostty|kitty]"
  exit 1
fi

package="$1"

# Install package
if omarchy-pkg-add $package; then
  # Set as default terminal
  echo "Setting $package as new default terminal..."
  sed -i "/export TERMINAL=/ c\export TERMINAL=$package" ~/.config/uwsm/default

  # Restart is needed for new default to take effect
  echo
  gum confirm "Restart to use new terminal?" && systemctl reboot --no-wall
else
  echo "Failed to install $package"
fi
